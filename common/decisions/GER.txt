#Category only allowed for GER
operations = {
	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			GER ={has_war_with = SOV}
		}
		allowed = {
			tag = GER
		}

		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}

		visible = {

			GER ={has_war_with = SOV}

		}

		complete_effect = {
			add_timed_idea = { idea = GER_jaegernotprogramm days = 100 }
		}
	}
	GER_benelux_invasion = {

		icon = generic_operation

		available = {
			GER ={ has_completed_focus = GER_around_maginot }
		}
		allowed = {
			tag = GER
		}

		cost = 0
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}

		visible = {
			GER ={ has_completed_focus = GER_danzig_or_war }
		}

		complete_effect = {
			
			every_country={
			limit={
				is_in_faction_with=GER
				has_war=yes
			}
			
			declare_war_on = {
				target = BEL
				type = annex_everything
			}
			declare_war_on = {
				target = HOL
				type = annex_everything
			}
			declare_war_on = {
				target = LUX
				type = annex_everything
			}
			
			}
			add_named_threat = {
				threat = 21
				name = "Around the Maginot"
			}
		}
	}
	GER_fin = {
		icon = generic_operation
		fire_only_once = yes
		allowed = {
			tag = GER
		}
		visible = {
			Date > 1941.1.1
		}

		available = {
			Date > 1941.6.1
		}


		complete_effect = {
			GER =  { puppet = FIN}
		}
	}

	GER_Anton = {

		icon = generic_operation

		fire_only_once = yes
		allowed = {
			tag = GER
		}
		visible = {

			tag = GER
			Date > 1940.1.1
		}


		available = {
			tag = GER
			EFR = { has_war_with = ENG }
			EFR = { is_ai = yes }
			Date > 1941.6.1

		}

		days_remove = 30
		remove_effect = {

			annex_country = { target = EFR transfer_troops = yes }

		}

	}

	GER_seize_syria = {

		icon = generic_operation

		fire_only_once = yes

		allowed = {
			tag = GER
		}
		visible = {
			tag = GER
			EFR = {
				exists = yes
			}
			EFR = {
				owns_state = 139
				owns_state = 140
				owns_state = 132
				owns_state = 135
			}
		}

		days_remove = 10

		available = {
			any_country = {
				is_in_faction_with = ROOT
				controls_state = 64
			}
			any_country = {
				is_in_faction_with = ROOT
				controls_state = 63
			}
		}

		complete_effect = {
			hidden_effect = {
				every_enemy_country = {
					country_event = {
						id = germany.121
						days = 0
					}
				}
			}
		}

		remove_effect = {
			transfer_state = 553
			transfer_state = 554
			transfer_state = 680
			transfer_state = 677
			139 = {
				set_demilitarized_zone = no
			}
			140 = {
				set_demilitarized_zone = no
			}
			132 = {
				set_demilitarized_zone = no
			}
			135 = {
				set_demilitarized_zone = no
			}
		}
	}

	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			original_tag = GER
			#added through on_action
		}

		available = {
			327 = { is_controlled_by_ROOT_or_ally = yes }
			310 = { is_controlled_by_ROOT_or_ally = yes }
			403 = { is_controlled_by_ROOT_or_ally = yes }
			362 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.1
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {

		}

		ai_will_do = {
			factor = 1
		}
	}
}

#Category only allowed for GER
GER_military_buildup = {


}

special_projects = {
	GER_begin_heavy_water_production = {
		allowed = {
			original_tag = GER
			has_dlc = "La Resistance"
		}
		available = {
			237 = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		visible = {}
		cost = 0
		ai_will_do = {
			factor = 5
		}
		cancel_trigger = { NOT = { has_global_flag = GER_heavy_water_production_underway } } #can be removed via intelligence ops
		days_remove = 365
		remove_effect = {
			add_tech_bonus = {
				name = GER_heavy_water
				category = nuclear
				uses = 2
				bonus = 2
			}
		}
		complete_effect = { set_global_flag = GER_heavy_water_production_underway }
	}
	GER_dismantle_maginot = {

		icon = generic_construction

		allowed = {
			original_tag = GeR
		}

		available = {
			#has_war = yes
			controls_state = 113
			NOT={has_idea=GER_dismantle_czechoslovakian_forts}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 113
		}
		days_remove = 180
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			113 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 2
					}
				}
			}
		}
		complete_effect = {
			add_timed_idea = { idea = GER_dismantle_maginot days = 180 }

		}
	}
	GER_dismantle_czechoslovakian_forts = {

		icon = generic_construction

		allowed = {
			original_tag = GeR
		}

		available = {
			#has_war = yes
			controls_state = 22 # Sudetenland
			controls_state = 24 # Eastern Sudetenland
			controls_state = 23 # Bohemia
			controls_state = 26 # Moravia
			NOT={has_idea=GER_dismantle_maginot}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 22 # Sudetenland
			controls_state = 24 # Eastern Sudetenland
			controls_state = 23 # Bohemia
			controls_state = 26 # Moravia
		}
		days_remove = 180
		modifier = {
			civilian_factory_use = 3
		}
		remove_effect = {
			22 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			24 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			23 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			26 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			if = {
				limit = {
					25 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					27 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				25 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				27 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					28 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				28 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					29 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					30 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				29 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				30 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
		}
		complete_effect = {
			add_timed_idea = { idea = GER_dismantle_czechoslovakian_forts days = 180 }
		}
	}
}
